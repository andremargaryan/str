{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}
{% block stylesheets %}
    <style>
        body{
        margin:0;
        font-family:Arial,Helvetica,sans-serif;
        background:#f2f2f2;
        display:flex;
        flex-direction:column;
        height:100vh;
        }
        nav{
        background:#111;
        color:white;
        display:flex;
        justify-content:space-between;
        align-items:center;
        padding:12px 20px;
        }
        nav .group{
        display:flex;
        gap:12px;
        }
        button{
        border:none;
        padding:8px 14px;
        border-radius:6px;
        font-weight:bold;
        cursor:pointer;
        }
        .home{background:#00aaff;color:white;}
        .filter{background:#ffaa00;color:white;}
        .login{background:#00cc66;color:white;}
        main{
        flex:1;
        display:flex;
        justify-content:center;
        align-items:center;
        }
        .card{
        width:300px;
        height:420px;
        background:white;
        border-radius:12px;
        box-shadow:0 10px 25px rgba(0,0,0,0.2);
        display:flex;
        flex-direction:column;
        justify-content:flex-end;
        padding:20px;
        transition:transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover{
        transform:scale(1.05);
        box-shadow:0 15px 35px rgba(0,0,0,0.3);
        }
        .card h2{
        margin:0;
        }
        .actions{
        display:flex;
        justify-content:center;
        gap:20px;
        margin-top:20px;
        }
        .circle{
        width:60px;
        height:60px;
        border-radius:50%;
        font-size:20px;
        display:flex;
        align-items:center;
        justify-content:center;
        }
        .leftBtn{background:#ff4d4d;color:white;}
        .rightBtn{background:#4dff88;color:white;}
    </style>
{% endblock %}
{% block javascripts %}

<script>
    const card=document.getElementById("card");
    let startX=0;
    let currentX=0;
    let dragging=false;
    card.addEventListener("pointerdown",e=>{
        dragging=true;
        startX=e.clientX;
    });
    window.addEventListener("pointermove",e=>{
        if(!dragging)return;
        currentX=e.clientX-startX;
        card.style.transform="translateX("+currentX+"px) rotate("+(currentX/10)+"deg)";
    });
    window.addEventListener("pointerup",()=>{
        if(!dragging)return;
        dragging=false;
        if(currentX>120)swipe(1);
        else if(currentX<-120)swipe(-1);
        else resetCard();
    });
    function swipe(dir){
        card.style.transition="transform 0.4s";
        card.style.transform="translateX("+(dir600)+"px) rotate("+(dir45)+"deg)";
        setTimeout(resetCard,400);
    }
    function resetCard(){
        card.style.transition="none";
        card.style.transform="translateX(0) rotate(0)";
        currentX=0;
    }
</script>
{% endblock %}
{% block body %}
    <nav>
        <div class="group">
            <button class="home">Accueil</button>
            <button class="filter">Filtre</button>
        </div>
        <div class="group">
            <button class="login">Se connecter</button>
        </div>
    </nav>
    <main>
        <div>
            <div class="card">
                <h2>Stage Développeur Web</h2>
                <p>Startup Innovante — Paris</p>
            </div>
            <div class="actions">
                <div class="circle leftBtn">✖</div>
                <div class="circle rightBtn">❤</div>
            </div>
        </div>
    </main>
{% endblock %}